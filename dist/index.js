"use strict";

let camera = '/dev/video0';
let fileName = 'master';

const IPFS = require('ipfs');

const {
  app,
  BrowserWindow
} = require('electron');

const ipc = require('electron').ipcMain; //const Room = require('ipfs-pubsub-room')


const fs = require('fs');

const Stream = require('./stream.js');

const ipfs = new IPFS({
  repo: 'ipfs/pubsub-demo/borgStream',
  EXPERIMENTAL: {
    pubsub: true
  },
  config: {
    Addresses: {
      Swarm: ["/ip4/0.0.0.0/tcp/4001"]
    }
  }
});
ipfs.on('ready', () => {
  ipfs.id((err, id) => {
    if (err) {
      return console.log(err);
    } //console.log(id)

  });
});
ipfs.on('error', err => {
  return console.log(err);
});
ipfs.once('ready', () => ipfs.id((err, peerInfo) => {
  if (err) {
    throw err;
  }

  console.log('IPFS node started and has ID ' + peerInfo.id);
}));
const stream = new Stream(ipfs, 'mydefaultStream');
global.stream = stream;
stream.setCamera(0);
stream.createRooms(); //ES15

class Misha {
  constructor(name) {
    this.name = name;
  }

  getHui() {
    return 'Hui';
  }

} //Old


function MishaOld(name) {
  this.name = name;

  this.getHui = function () {
    'Hui';
  };
}

global.mishaNew = new Misha("MishaNew");
global.mishaOld = new MishaOld("MishaOld");
global.stream = stream;
ipc.on('set-camera', function (event, index) {
  stream.setCamera(index);
});
ipc.on('update-stream-state', function (event, arg) {
  if (arg == 'start') {
    stream.start();
    win.webContents.send('streamState', 'started');
  }

  if (arg == 'stop') {
    stream.stop();
    win.webContents.send('streamState', 'stoped');
  }
});
let win;

function createWindow() {
  // Создаём окно браузера.
  win = new BrowserWindow({
    width: 800,
    height: 600,
    frame: false,
    webPreferences: {
      nodeIntegration: true
    }
  }); // and load the index.html of the app.

  win.loadFile('front/index.html'); // Отображаем средства разработчика.

  win.webContents.openDevTools(); // Будет вызвано, когда окно будет закрыто.

  win.on('closed', () => {
    // Разбирает объект окна, обычно вы можете хранить окна     
    // в массиве, если ваше приложение поддерживает несколько окон в это время,
    // тогда вы должны удалить соответствующий элемент.
    win = null;
  });
}

app.on('ready', createWindow); // Выходим, когда все окна будут закрыты.

app.on('window-all-closed', () => {
  // Для приложений и строки меню в macOS является обычным делом оставаться
  // активными до тех пор, пока пользователь не выйдет окончательно используя Cmd + Q
  if (process.platform !== 'darwin') {
    app.quit();
  }
});
app.on('activate', () => {
  // На MacOS обычно пересоздают окно в приложении,
  // после того, как на иконку в доке нажали и других открытых окон нету.
  if (win === null) {
    createWindow();
  }
});
/*stream.setCamera(0)
//stream.createRooms();
stream.start()


setTimeout(function(){
	stream.stop()	
},30*1000)


setTimeout(function(){
	stream.start()	
},150*1000)
*/
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJjYW1lcmEiLCJmaWxlTmFtZSIsIklQRlMiLCJyZXF1aXJlIiwiYXBwIiwiQnJvd3NlcldpbmRvdyIsImlwYyIsImlwY01haW4iLCJmcyIsIlN0cmVhbSIsImlwZnMiLCJyZXBvIiwiRVhQRVJJTUVOVEFMIiwicHVic3ViIiwiY29uZmlnIiwiQWRkcmVzc2VzIiwiU3dhcm0iLCJvbiIsImlkIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm9uY2UiLCJwZWVySW5mbyIsInN0cmVhbSIsImdsb2JhbCIsInNldENhbWVyYSIsImNyZWF0ZVJvb21zIiwiTWlzaGEiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJnZXRIdWkiLCJNaXNoYU9sZCIsIm1pc2hhTmV3IiwibWlzaGFPbGQiLCJldmVudCIsImluZGV4IiwiYXJnIiwic3RhcnQiLCJ3aW4iLCJ3ZWJDb250ZW50cyIsInNlbmQiLCJzdG9wIiwiY3JlYXRlV2luZG93Iiwid2lkdGgiLCJoZWlnaHQiLCJmcmFtZSIsIndlYlByZWZlcmVuY2VzIiwibm9kZUludGVncmF0aW9uIiwibG9hZEZpbGUiLCJvcGVuRGV2VG9vbHMiLCJwcm9jZXNzIiwicGxhdGZvcm0iLCJxdWl0Il0sIm1hcHBpbmdzIjoiOztBQUNBLElBQUlBLE1BQU0sR0FBRyxhQUFiO0FBQ0EsSUFBSUMsUUFBUSxHQUFHLFFBQWY7O0FBR0EsTUFBTUMsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxNQUFNO0FBQUVDLEVBQUFBLEdBQUY7QUFBT0MsRUFBQUE7QUFBUCxJQUF5QkYsT0FBTyxDQUFDLFVBQUQsQ0FBdEM7O0FBQ0EsTUFBTUcsR0FBRyxHQUFHSCxPQUFPLENBQUMsVUFBRCxDQUFQLENBQW9CSSxPQUFoQyxDLENBR0E7OztBQUNBLE1BQU1DLEVBQUUsR0FBR0wsT0FBTyxDQUFDLElBQUQsQ0FBbEI7O0FBQ0EsTUFBTU0sTUFBTSxHQUFHTixPQUFPLENBQUMsYUFBRCxDQUF0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QUVBLFNBQVNJLFlBQVQsR0FBeUI7QUFDdkI7QUFDQUosRUFBQUEsR0FBRyxHQUFHLElBQUlsQyxhQUFKLENBQWtCO0FBQ3RCdUMsSUFBQUEsS0FBSyxFQUFFLEdBRGU7QUFFdEJDLElBQUFBLE1BQU0sRUFBRSxHQUZjO0FBR3RCQyxJQUFBQSxLQUFLLEVBQUUsS0FIZTtBQUl0QkMsSUFBQUEsY0FBYyxFQUFFO0FBQ2RDLE1BQUFBLGVBQWUsRUFBRTtBQURIO0FBSk0sR0FBbEIsQ0FBTixDQUZ1QixDQVd2Qjs7QUFDQVQsRUFBQUEsR0FBRyxDQUFDVSxRQUFKLENBQWEsa0JBQWIsRUFadUIsQ0FjdkI7O0FBQ0FWLEVBQUFBLEdBQUcsQ0FBQ0MsV0FBSixDQUFnQlUsWUFBaEIsR0FmdUIsQ0FpQnZCOztBQUNBWCxFQUFBQSxHQUFHLENBQUN0QixFQUFKLENBQU8sUUFBUCxFQUFpQixNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBc0IsSUFBQUEsR0FBRyxHQUFHLElBQU47QUFDRCxHQUxEO0FBTUQ7O0FBR0RuQyxHQUFHLENBQUNhLEVBQUosQ0FBTyxPQUFQLEVBQWdCMEIsWUFBaEIsRSxDQUVBOztBQUNBdkMsR0FBRyxDQUFDYSxFQUFKLENBQU8sbUJBQVAsRUFBNEIsTUFBTTtBQUNoQztBQUNBO0FBQ0EsTUFBSWtDLE9BQU8sQ0FBQ0MsUUFBUixLQUFxQixRQUF6QixFQUFtQztBQUNqQ2hELElBQUFBLEdBQUcsQ0FBQ2lELElBQUo7QUFDRDtBQUNGLENBTkQ7QUFRQWpELEdBQUcsQ0FBQ2EsRUFBSixDQUFPLFVBQVAsRUFBbUIsTUFBTTtBQUN0QjtBQUNBO0FBQ0QsTUFBSXNCLEdBQUcsS0FBSyxJQUFaLEVBQWtCO0FBQ2hCSSxJQUFBQSxZQUFZO0FBQ2I7QUFDRixDQU5EO0FBaUJBIiwic291cmNlc0NvbnRlbnQiOlsiXG5sZXQgY2FtZXJhID0gJy9kZXYvdmlkZW8wJztcbmxldCBmaWxlTmFtZSA9ICdtYXN0ZXInO1xuXG5cbmNvbnN0IElQRlMgPSByZXF1aXJlKCdpcGZzJylcbmNvbnN0IHsgYXBwLCBCcm93c2VyV2luZG93IH0gPSByZXF1aXJlKCdlbGVjdHJvbicpO1xuY29uc3QgaXBjID0gcmVxdWlyZSgnZWxlY3Ryb24nKS5pcGNNYWluO1xuXG5cbi8vY29uc3QgUm9vbSA9IHJlcXVpcmUoJ2lwZnMtcHVic3ViLXJvb20nKVxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1x0XG5jb25zdCBTdHJlYW0gPSByZXF1aXJlKCcuL3N0cmVhbS5qcycpXG5cblxuXG5jb25zdCBpcGZzID0gbmV3IElQRlMoe1xuXHRyZXBvOiAnaXBmcy9wdWJzdWItZGVtby9ib3JnU3RyZWFtJyxcblx0RVhQRVJJTUVOVEFMOiB7XG5cdCAgcHVic3ViOiB0cnVlXG5cdH0sXG5cdGNvbmZpZzoge1xuXHQgIEFkZHJlc3Nlczoge1xuXHRcdFN3YXJtOiBbXG5cdFx0ICBcIi9pcDQvMC4wLjAuMC90Y3AvNDAwMVwiLFxuXHRcdF1cblx0ICB9XG5cdH0sXG59KVxuXG5pcGZzLm9uKCdyZWFkeScsICgpID0+IHtcblxuICBcblx0aXBmcy5pZCgoZXJyLCBpZCkgPT4ge1xuXHRcdFxuXHRcdGlmIChlcnIpIHtcblx0XHRcdHJldHVybiBjb25zb2xlLmxvZyhlcnIpXG5cdFx0fVxuICBcblxuXG5cdFx0Ly9jb25zb2xlLmxvZyhpZClcblx0fSlcblxufSlcblx0XG5cbmlwZnMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuXHRyZXR1cm4gY29uc29sZS5sb2coZXJyKVxufSlcblxuXG5pcGZzLm9uY2UoJ3JlYWR5JywgKCkgPT4gaXBmcy5pZCgoZXJyLCBwZWVySW5mbykgPT4ge1xuXHRpZiAoZXJyKSB7IHRocm93IGVyciB9XG5cblx0Y29uc29sZS5sb2coJ0lQRlMgbm9kZSBzdGFydGVkIGFuZCBoYXMgSUQgJyArIHBlZXJJbmZvLmlkKVxuXG59KSlcblxuXG5cbmNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW0oaXBmcywgJ215ZGVmYXVsdFN0cmVhbScpO1xuZ2xvYmFsLnN0cmVhbSA9IHN0cmVhbTtcbnN0cmVhbS5zZXRDYW1lcmEoMClcbnN0cmVhbS5jcmVhdGVSb29tcygpO1xuXG5cblxuLy9FUzE1XG5jbGFzcyBNaXNoYSB7XG5cdGNvbnN0cnVjdG9yKG5hbWUpIHtcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHR9XG5cblx0Z2V0SHVpKCkge1xuXHRcdHJldHVybiAnSHVpJztcblx0fVxufVxuXG4vL09sZFxuZnVuY3Rpb24gTWlzaGFPbGQobmFtZSl7XG5cdHRoaXMubmFtZSA9IG5hbWU7XG5cdHRoaXMuZ2V0SHVpID0gZnVuY3Rpb24oKSB7XG5cdFx0J0h1aSd9O1xufSBcblxuZ2xvYmFsLm1pc2hhTmV3ID0gbmV3IE1pc2hhKFwiTWlzaGFOZXdcIik7XG5nbG9iYWwubWlzaGFPbGQgPSBuZXcgTWlzaGFPbGQoXCJNaXNoYU9sZFwiKTtcblxuZ2xvYmFsLnN0cmVhbSA9IHN0cmVhbTtcblxuaXBjLm9uKCdzZXQtY2FtZXJhJywgZnVuY3Rpb24oZXZlbnQsIGluZGV4KXtcblxuXHRzdHJlYW0uc2V0Q2FtZXJhKGluZGV4KTtcblxufSlcblxuXG5pcGMub24oJ3VwZGF0ZS1zdHJlYW0tc3RhdGUnLCBmdW5jdGlvbiAoZXZlbnQsIGFyZykge1xuICBcblxuICBpZiggYXJnID09ICdzdGFydCcgKXtcbiAgXHRzdHJlYW0uc3RhcnQoKVxuICBcdHdpbi53ZWJDb250ZW50cy5zZW5kKCdzdHJlYW1TdGF0ZScsICdzdGFydGVkJylcbiAgfVxuXG4gIGlmKCBhcmcgPT0gJ3N0b3AnICl7XG4gIFx0c3RyZWFtLnN0b3AoKVxuICBcdHdpbi53ZWJDb250ZW50cy5zZW5kKCdzdHJlYW1TdGF0ZScsICdzdG9wZWQnKVxuICB9XG5cbn0pXG5cblxuXG5cblxubGV0IHdpblxuXG5mdW5jdGlvbiBjcmVhdGVXaW5kb3cgKCkge1xuICAvLyDQodC+0LfQtNCw0ZHQvCDQvtC60L3QviDQsdGA0LDRg9C30LXRgNCwLlxuICB3aW4gPSBuZXcgQnJvd3NlcldpbmRvdyh7XG4gICAgd2lkdGg6IDgwMCxcbiAgICBoZWlnaHQ6IDYwMCxcbiAgICBmcmFtZTogZmFsc2UsXG4gICAgd2ViUHJlZmVyZW5jZXM6IHtcbiAgICAgIG5vZGVJbnRlZ3JhdGlvbjogdHJ1ZVxuICAgIH1cbiAgfSlcblxuICAvLyBhbmQgbG9hZCB0aGUgaW5kZXguaHRtbCBvZiB0aGUgYXBwLlxuICB3aW4ubG9hZEZpbGUoJ2Zyb250L2luZGV4Lmh0bWwnKVxuXG4gIC8vINCe0YLQvtCx0YDQsNC20LDQtdC8INGB0YDQtdC00YHRgtCy0LAg0YDQsNC30YDQsNCx0L7RgtGH0LjQutCwLlxuICB3aW4ud2ViQ29udGVudHMub3BlbkRldlRvb2xzKClcblxuICAvLyDQkdGD0LTQtdGCINCy0YvQt9Cy0LDQvdC+LCDQutC+0LPQtNCwINC+0LrQvdC+INCx0YPQtNC10YIg0LfQsNC60YDRi9GC0L4uXG4gIHdpbi5vbignY2xvc2VkJywgKCkgPT4ge1xuICAgIC8vINCg0LDQt9Cx0LjRgNCw0LXRgiDQvtCx0YrQtdC60YIg0L7QutC90LAsINC+0LHRi9GH0L3QviDQstGLINC80L7QttC10YLQtSDRhdGA0LDQvdC40YLRjCDQvtC60L3QsCAgICAgXG4gICAgLy8g0LIg0LzQsNGB0YHQuNCy0LUsINC10YHQu9C4INCy0LDRiNC1INC/0YDQuNC70L7QttC10L3QuNC1INC/0L7QtNC00LXRgNC20LjQstCw0LXRgiDQvdC10YHQutC+0LvRjNC60L4g0L7QutC+0L0g0LIg0Y3RgtC+INCy0YDQtdC80Y8sXG4gICAgLy8g0YLQvtCz0LTQsCDQstGLINC00L7Qu9C20L3RiyDRg9C00LDQu9C40YLRjCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40Lkg0Y3Qu9C10LzQtdC90YIuXG4gICAgd2luID0gbnVsbFxuICB9KVxufVxuXG5cbmFwcC5vbigncmVhZHknLCBjcmVhdGVXaW5kb3cpXG5cbi8vINCS0YvRhdC+0LTQuNC8LCDQutC+0LPQtNCwINCy0YHQtSDQvtC60L3QsCDQsdGD0LTRg9GCINC30LDQutGA0YvRgtGLLlxuYXBwLm9uKCd3aW5kb3ctYWxsLWNsb3NlZCcsICgpID0+IHtcbiAgLy8g0JTQu9GPINC/0YDQuNC70L7QttC10L3QuNC5INC4INGB0YLRgNC+0LrQuCDQvNC10L3RjiDQsiBtYWNPUyDRj9Cy0LvRj9C10YLRgdGPINC+0LHRi9GH0L3Ri9C8INC00LXQu9C+0Lwg0L7RgdGC0LDQstCw0YLRjNGB0Y9cbiAgLy8g0LDQutGC0LjQstC90YvQvNC4INC00L4g0YLQtdGFINC/0L7RgCwg0L/QvtC60LAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC90LUg0LLRi9C50LTQtdGCINC+0LrQvtC90YfQsNGC0LXQu9GM0L3QviDQuNGB0L/QvtC70YzQt9GD0Y8gQ21kICsgUVxuICBpZiAocHJvY2Vzcy5wbGF0Zm9ybSAhPT0gJ2RhcndpbicpIHtcbiAgICBhcHAucXVpdCgpXG4gIH1cbn0pXG5cbmFwcC5vbignYWN0aXZhdGUnLCAoKSA9PiB7XG4gICAvLyDQndCwIE1hY09TINC+0LHRi9GH0L3QviDQv9C10YDQtdGB0L7Qt9C00LDRjtGCINC+0LrQvdC+INCyINC/0YDQuNC70L7QttC10L3QuNC4LFxuICAgLy8g0L/QvtGB0LvQtSDRgtC+0LPQviwg0LrQsNC6INC90LAg0LjQutC+0L3QutGDINCyINC00L7QutC1INC90LDQttCw0LvQuCDQuCDQtNGA0YPQs9C40YUg0L7RgtC60YDRi9GC0YvRhSDQvtC60L7QvSDQvdC10YLRgy5cbiAgaWYgKHdpbiA9PT0gbnVsbCkge1xuICAgIGNyZWF0ZVdpbmRvdygpXG4gIH1cbn0pXG5cblxuXG5cblxuXG5cblxuXG5cbi8qc3RyZWFtLnNldENhbWVyYSgwKVxuLy9zdHJlYW0uY3JlYXRlUm9vbXMoKTtcbnN0cmVhbS5zdGFydCgpXG5cblxuc2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRzdHJlYW0uc3RvcCgpXHRcbn0sMzAqMTAwMClcblxuXG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdHN0cmVhbS5zdGFydCgpXHRcbn0sMTUwKjEwMDApXG4qLyJdfQ==